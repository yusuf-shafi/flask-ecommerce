{% extends "base.html" %}

{% block title %}Product Management{% endblock %}

{% block content %}
<section class="portfolio" style="margin-top: 66px; padding-top: 66px;">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8">

        <div class="d-flex align-items-center justify-content-between mb-4">
          <h1 class="h3 mb-0">Product Management</h1>
        </div>

        <div class="card shadow-sm mb-4">
          <div class="card-body">
            <h2 class="h5 mb-3">Add product</h2>

            <form enctype="multipart/form-data" method="POST">
              <div class="mb-3">
                <label for="product_name" class="form-label">Product name</label>
                <input
                  type="text"
                  class="form-control"
                  id="product_name"
                  name="product_name"
                  placeholder="e.g., Copa Football Boots"
                  required
                />
              </div>

              <div class="mb-3">
                <label for="category" class="form-label">Category</label>
                <select class="form-select" id="category" name="category" required>
                  <option value="football">Football</option>
                  <option value="basketball">Basketball</option>
                  <option value="running">Running</option>
                </select>
              </div>

              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="price" class="form-label">Price (Â£)</label>
                  <input
                    type="number"
                    class="form-control"
                    id="price"
                    name="price"
                    placeholder="e.g., 79.99"
                    step="0.01"
                    min="0"
                    required
                  />
                </div>

                <div class="col-md-6 mb-3">
                  <label for="quantity" class="form-label">Quantity</label>
                  <input
                    type="number"
                    class="form-control"
                    id="quantity"
                    name="quantity"
                    placeholder="e.g., 10"
                    min="0"
                    required
                  />
                </div>
              </div>

              <div class="mb-3">
                <label for="sizes" class="form-label">Sizes</label>
                <input
                  type="text"
                  class="form-control"
                  id="sizes"
                  name="sizes"
                  placeholder="e.g., S,M,L or 8,9,10"
                  required
                />
              </div>

              <div class="form-check mb-3">
                <input
                  class="form-check-input"
                  type="checkbox"
                  id="is_special_offer"
                  name="is_special_offer"
                />
                <label class="form-check-label" for="is_special_offer">
                  Mark as special offer (shows on homepage)
                </label>
              </div>

              <div class="mb-3">
                <label for="pic" class="form-label">Product image</label>
                <input
                  class="form-control"
                  type="file"
                  id="pic"
                  name="pic"
                  accept="image/*"
                  required
                />
              </div>

              <button type="submit" name="add_product" class="btn btn-success">
                Add product
              </button>
            </form>
          </div>
        </div>

        <div class="card shadow-sm mb-4">
          <div class="card-body">
            <h2 class="h5 mb-3">Remove product</h2>

            <form method="POST" class="row g-2 align-items-end">
              <div class="col-md-8">
                <label for="product_id_to_remove" class="form-label">Product ID</label>
                <input
                  type="number"
                  class="form-control"
                  id="product_id_to_remove"
                  name="product_id_to_remove"
                  placeholder="e.g., 3"
                  min="1"
                  required
                />
              </div>
              <div class="col-md-4">
                <button type="submit" class="btn btn-danger w-100">
                  Remove
                </button>
              </div>
            </form>
          </div>
        </div>

        <div class="card shadow-sm">
          <div class="card-body">
            <h2 class="h5 mb-3">Current products</h2>

            {% if products %}
            <ul class="list-group">
              {% for product in products %}
              <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                  <span class="fw-semibold">#{{ product.id }}</span>
                  <span class="ms-2">{{ product.product_name }}</span>
                  <span class="text-muted ms-2">({{ product.category }})</span>
                </div>
                <span class="badge text-bg-secondary">{{ product.sizes }}</span>
              </li>
              {% endfor %}
            </ul>
            {% else %}
            <p class="text-muted mb-0">No products added yet.</p>
            {% endif %}
          </div>
        </div>

      </div>
    </div>
  </div>
</section>
{% endblock %}
